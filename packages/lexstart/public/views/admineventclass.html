<div data-ng-controller="LexConfigAdminController" data-ng-init="loadEventClassAdminForm()">
	<div class="container">
		<div class="col-md-10 col-md-offset-1">  
				<div class="page-header">
					<h1><span class="glyphicon glyphicon-cog"></span>Manage Event Classification</h1>
				</div>

        <div class="alert alert-success animated fadeIn" ng-show="responseMsg" role="alert">{{responseMsg}}</div>
          

        <div ng-if="error" ng-repeat="err in errorList">
            <div class="alert alert-danger" role="alert">{{err}}</div>
        </div>
        <table ng-table="eventClassTblParam" show-filter="true" class="table table-striped">
  					<tbody data-ng-repeat="eventClass in $data">
    					<tr ng-show="!eventClass.editFlag">
  	  					<td data-title="'Event Name'" sortable="'event_name'" filter="{ 'event_name': 'text' }"> 
                  {{eventClass.event_name}}
                </td>
  	  					<td data-title="'Purpose'">
                  {{eventClass.purpose}}
                </td>
                <td data-title="'Type'">
                  {{eventClass.eventType.name}}
                </td>
                <td data-title="''"> 
                   <button type="button" class="btn btn-primary" style="width:90px;" 
                           ng-click="setEventFlag(eventClass,true)">
                          <i class="glyphicon glyphicon-edit"></i> Edit                     
                   </button>                
                   <button type="button" class="btn btn-primary" style="width:90px;" 
                           ng-click="addEventActions(eventClass)" ng-disabled="!eventClass._id">
                          <i class="glyphicon glyphicon-cog"></i> Configure                     
                   </button>
                </td>
    					</tr>  
              <tr ng-show="eventClass.editFlag">
                <td> 
                  <input type="text" class="form-control" ng-model="eventClass.event_name" value="{{eventClass.event_name}}">
                </td>
                <td> 
                  <input type="text" class="form-control" ng-model="eventClass.purpose" value="{{eventClass.purpose}}">
                </td>
                <td>
                  <select class="form-control" ng-model="eventClass.eventType" ng-options="eventType.name for eventType in eventTypeList" />
                </td>
                <td data-title="''"> 
                    <button type="button" class="btn btn-primary" style="width:90px;" 
                           ng-click="saveEventClass(eventClass)">
                          <i class="glyphicon glyphicon-save"></i> Save                     
                   </button>  
                   <button type="button" class="btn btn-primary" style="width:90px;" 
                           ng-click="setEventFlag(eventClass,false)">
                          <i class="glyphicon glyphicon-ban-circle"></i> Cancel                     
                   </button>         
                </td>
              </tr>           
  					</tbody>
				</table>
    	</div>

    	<div class="col-md-10 col-md-offset-1">
			  <div class="row">
			    <div class="col-md-3" >
			     	<button type="button" style="width:90px;" class="btn btn-primary" ng-click="addEventClassRow()">
  						    <i class="glyphicon glyphicon-plus"></i> Add
            </button>            
          </div>
        </div>		
		</div>			
  	</div>
</div>
